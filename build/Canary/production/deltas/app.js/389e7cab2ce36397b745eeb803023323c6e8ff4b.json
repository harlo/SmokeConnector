["/*d854ababcf7d5c92393ece326292caf397afb43c",42,277497,"Img\",{extend:Ext.Component,xtype:[\"image\",\"img\"],config:{src",423359,33,"img\",imageCls:Ext.baseCSSPrefix+\"img-image\",backgroundCls:Ext.baseCSSPrefix+\"img-background\",mode:\"background\"",437852,34,"a=this;a.onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",287358,52,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",420190,36,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show:function(){this.callParent();if(this.hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",244222,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",284550,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b",539083,35,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(",340081,36,"detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement",277501,269724,",flex:1",547225,1877,"xtype:\"container\",layout:{type:\"vbox\",align:\"stretch\"},items:[{xtype:\"container\"",292404,35,",flex:4,items:[{xtype:\"button\",action:\"toAirQualityMain\",margin:6,flex:1,cls:\"airQuality_indicator_canary\",style:\"background-image:url('resources/images/img_home_good.png')\"},{xtype:\"label\",cls:\"airQuality_indicator_label_canary\",html:\" \"}]},{xtype:\"container\",flex:1",502105,35,",defaults:{flex:1,margin:6,cls:\"other_indicator_canary\"},items:[{xtype:\"button\",action:\"toFireMain\",style:\"background-image:url('resources/images/ic_home_fire.png')\"},{xtype:\"button\",action:\"toBatteryMain\",style:\"background-image:url('resources/images/ic_home_battery.png')\"},{xtype:\"button\",action:\"toMonoxideMain\",style:\"background-image:url('resources/images/ic_home_monoxide.png')\"}]",548944,32,549386,138,"iconCls:\"user\",",549524,263,"!</h1>\",",556192,86,549904,180,"updateHtml:\"updateHtml\",changeStatus:\"changeStatus\"},items:[{xtype:\"panel\",id:\"chat_session\",html:\"\"},",554918,33,550278,36,"updateHtml:function(a){var c=this.getAt(0);var b=c.getHtml();c.setHtml(b+a)},changeStatus:function(e,a){var f=this.getAt(0);var d=f.getHtml();console.info(\"OLD:\"+a+\", new: \"+e.status);console.info(e);var c=['<span class=\"status_'+e.number+'\">',a+\"</span>\"].join(\"\");console.info(\"OLD HTML:\"+c);var b=d.replace(c,c.replace(a,e.status));console.info(\"NEW:\"+b);f.setHtml(b",550382,594,"layout:{animation:{type:\"fade\"}},",550976,53,551044,297,",{name:\"responderStatus\",type:\"int",551339,857,"\"button[action=toRoomSelector]\":{tap:\"goToRoomSelector",552192,234,",progress_embed:{initialize:\"initProgressEmbed",552424,55,552517,437,"goToRoomSelector:function(f,d,b){var c=f;var a=Ext.create(\"Ext.Picker\",{slots:[{name:\"room_selector\",title:\"Choose a room\",data:availableRooms}],listeners:{change:function(i,h,g){c.setText(availableRooms[h.room_selector-1].text)}}});Ext.Viewport.add(a);a.show(",552951,401,";Ext.Msg.alert(\"Alert!\",\"Uh-oh! Your Smoke Connector has gone off at #CityCamp!!\",Ext.emptyFn);currentAlertSession.init(1,a.time",553351,43,"\"chatter received? hard alert?\");console.info(a)},addContact:function(b){contact.info(\"adding contact\");",553477,123,"},updateContact:function(e){console.info(\"updating contact\");console.info(e);if(e.status==\"calling\"){var b={phone_number:e.number,status:\"calling\"};currentAlertSession.addResponder(b);var c=['<li><span class=\"alias_'+b.number+'\">',b.phone_number+\"</span>   -   \",'<span class=\"status_'+b.phone_number+'\">',b.status+\"</span></li>\"].join(\"\");console.info(c",552478,33,"updateHtml(c)}else{var d=currentAlertSession.getResponder(e.number);var a=d.status;d.status=e.status",552479,32,"changeStatus(e,a)}",553397,57,"initProgressEmbed:function(b,a){if(b.id==\"battery_progress_embed\"){b.init(8)}",553626,1090,"visualize.ProgressEmbed\",{extend:Ext.Container,xtype:\"progress_embed\",config:{",501856,37,"listeners:{init:\"init\"},defaults:{flex:1",547949,41,"a=0;for(var d=0;d<10;d++){var b=\"background-color: #b22222; margin-right:0.15em;\";if(a>=c){b=\"background-color: #cccccc; margin-right:0.15em;\"}else{a++}var e=Ext.create(\"Ext.Container\",{html:\"<span>&nbsp;&nbsp;&nbsp;</span>\",style:b,});this.add([e])}",554688,87,"require:[\"Canary.view.visualize.ProgressEmbed\",\"Ext.Img\"],config:{items:[{xtype:\"container\",layout:{type:\"hbox\"},margin:10,items:[{xtype:\"label\",html:\"<h2>Home</h2>\",flex:1},{xtype:\"button\",text:\"Kitchen\",action:\"toRoomSelector\",id:\"battery_room_selector\",flex:3}]},{xtype:\"container\",layout:{type:\"hbox\"},margin:10,items:[{xtype:\"image\",src:\"resources/images/ic_home_battery.png\",mode:\"image\",flex:1},{xtype:\"progress_embed\",id:\"battery_progress_embed\",flex:3",548944,32,554842,61,"require:[\"Ext.field.DatePicker\"]",554902,34,"layout:{type:\"vbox\",align:\"stretch\"},defaults:{margin:10},items:[{xtype:\"label\",html:'",554964,46,"\\",555010,74,"<p style=\"margin-top:10px;\">Next Reminder:</p>'},{xtype:\"datepickerfield\",margin:10",555133,81,"'",555215,72,"\\",555287,66,"<p style=\"margin-top:10px;\">Next Reminder:</p>'},{xtype:\"datepickerfield",555132,61,555462,52,"Container,xtype:\"battery_frame\",config:{layout:{type:\"vbox\",align:\"stretch\"},items:[{xtype:\"battery_monitor\",flex:1},{xtype:\"battery_reminder\",flex:2}]}});Ext.define(\"Canary.view.Fire",549671,32,"frame\",",549359,38,"RoomNavigation\",{extend:Ext.Container,xtype:\"room_navigation\",config:{layout:{type:\"hbox\"},margin:10,items:[{xtype:\"label\",html:\"<h2>Home</h2>\",flex:1},{xtype:\"button\",text:\"Kitchen\",action:\"toRoomSelector\",id:\"battery_room_selector\",flex:3}]",554688,36,555646,734,"Fire\",\"navigation.RoomNavigation",556377,47,"visualize.ProgressEmbed",556421,1063]